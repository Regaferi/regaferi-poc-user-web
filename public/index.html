<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="icon" href="<%= BASE_URL %>favicon.ico">
    <title><%= htmlWebpackPlugin.options.title %></title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@mdi/font@latest/css/materialdesignicons.min.css">
    <script src="https://multipay.komoju.com"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js" integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
  </head>
  <body>
    <noscript>
      <strong>We're sorry but <%= htmlWebpackPlugin.options.title %> doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    </noscript>
    <div id="app"></div>
    <!-- built files will be auto injected -->
  </body>
</html>

<script>
    var handler = Komoju.multipay.configure({
        key: "pk_9e17c1ee95a8ca65eafbca819189907a6d0ebd0c",
        token: function(token) {
            $(".token").text("token: " + token.id)
        }
    });
    let productName = $(".product-name").val();
    let orderAmount =  parseInt($(".order-amount").val());
    $(".custom-button").on("click", function(e) {
        handler.open({
            amount:       orderAmount,
            locale:       "ja",
            currency:     "JPY",
            title:        productName,
            description:  "Regaferi Store",
            methods:      ["credit_card", "konbini", "bank_transfer", "pay_easy", "web_money", "bit_cash", "net_cash"]
        });
        e.preventDefault();
    });

</script>
